# Agent Team Adversarial Collaboration Framework

**버전**: 1.0
**생성일**: 2025-12-06
**목적**: 어떤 프로젝트에서도 재사용 가능한 에이전트 팀 논쟁 기반 토론회 프레임워크

---

## 1. 개요

### 1.1 프레임워크 정의

이 프레임워크는 **Adversarial Collaboration**(논쟁 기반 협업)을 통해 프로젝트의 문제점을 입체적으로 분석하고, **소수 의견을 보호**하면서 최적의 의사결정을 도출하는 방법론입니다.

### 1.2 핵심 원칙

```
┌─────────────────────────────────────────────────────────────────────────┐
│  Adversarial Collaboration 핵심 원칙                                    │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  1. 다양한 관점의 충돌이 더 나은 결과를 만든다                          │
│  2. VETO 권한은 치명적 오류를 방지하는 최후의 안전장치                  │
│  3. 다수결보다 가중 투표 (전문성 기반)                                  │
│  4. 소수 의견은 무시가 아닌 특별 검토 대상                              │
│  5. 증거 기반 주장만 허용                                               │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 1.3 학술적 배경

| 이론 | 출처 | 적용 |
|------|------|------|
| Belbin Team Roles | Meredith Belbin (1981) | 9가지 팀 역할 이론 |
| Adversarial Collaboration | Daniel Kahneman | 논쟁 기반 협업 |
| Red Team/Blue Team | 미국 국방부 | 적대적 검증 |
| NASA Mission Control | NASA | VETO 권한 시스템 |
| Devil's Advocate | 중세 교회 | 소수 의견 보호 |

---

## 2. 팀 구성법 (Team Composition)

### 2.1 필수 팀 (VETO 권한 보유)

이 팀들은 **모든 프로젝트에 필수**이며, 특정 조건에서 VETO 권한을 행사할 수 있습니다.

| 팀 | 역할 | VETO 조건 | 슈퍼바이저 |
|----|------|----------|-----------|
| **Risk Team** | 리스크 관리 | 하드 리미트 위반 | 최고: 위험 예측 전문가 / 시니어: 검증 전문가 |
| **QA Team** | 테스트/검증 | 백테스트 미통과 | 최고: 테스트 자동화 / 시니어: 버그 헌터 |
| **Red Team** | 취약점 발견 | 치명적 취약점 | 최고: 해커 관점 / 시니어: 방어 관점 |

### 2.2 선택 팀 (프로젝트별)

| 팀 | 역할 | 적합 프로젝트 | 슈퍼바이저 |
|----|------|--------------|-----------|
| **Quant Team** | 투자 전략 | 금융/트레이딩 | 최고: 혁신적 전략 / 시니어: 학술 검증 |
| **Data Team** | 데이터 파이프라인 | 데이터 중심 | 최고: 아키텍처 / 시니어: 품질 관리 |
| **Evolution Team** | 진화/최적화 | ML/AI | 최고: 자동화 / 시니어: 검증 |
| **UX Team** | 사용자 경험 | 프론트엔드 | 최고: 디자인 / 시니어: 접근성 |
| **Infra Team** | 시스템 안정성 | 백엔드/인프라 | 최고: 확장성 / 시니어: 안정성 |
| **Meta Team** | 전체 조율 | 복잡한 프로젝트 | 최고: 전략 / 시니어: 실행 |

### 2.3 슈퍼바이저 구조

각 팀은 두 명의 슈퍼바이저로 구성됩니다:

```
┌─────────────────────────────────────────────────────────────────────────┐
│  팀 구조                                                                │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │  최고 슈퍼바이저 (Chief Supervisor)                              │   │
│  │  - 페르소나: 도전적, 혁신적, 최신 기술 접목                      │   │
│  │  - 역할: 새로운 관점 제시, 기존 방식 도전, 가능성 탐색           │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                              ↓                                          │
│  ┌─────────────────────────────────────────────────────────────────┐   │
│  │  시니어 슈퍼바이저 (Senior Supervisor)                           │   │
│  │  - 페르소나: 꼼꼼한, 증거 기반, 학술적                           │   │
│  │  - 역할: 논문/사례 검증, 리스크 분석, 현실성 검토                │   │
│  └─────────────────────────────────────────────────────────────────┘   │
│                                                                         │
│  → 두 슈퍼바이저 의견 종합 → 팀 최종 의견 도출                         │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 2.4 프로젝트 성격별 팀 구성 가이드

| 프로젝트 유형 | 필수 팀 | 권장 팀 |
|--------------|--------|--------|
| 트레이딩 시스템 | Risk, QA, Red Team | Quant, Data, Evolution |
| 웹 애플리케이션 | Risk, QA, Red Team | UX, Infra, Data |
| ML/AI 시스템 | Risk, QA, Red Team | Evolution, Data, Quant |
| 인프라/백엔드 | Risk, QA, Red Team | Infra, Data |
| 연구/실험 | Risk, QA, Red Team | Quant, Evolution, Meta |

---

## 3. 토론 규칙 (Debate Rules)

### 3.1 기본 규칙

```
╔═════════════════════════════════════════════════════════════════════════╗
║  토론 기본 규칙 (MANDATORY)                                             ║
╠═════════════════════════════════════════════════════════════════════════╣
║                                                                         ║
║  1. 인신공격 금지, 아이디어만 공격                                      ║
║     - ❌ "그 팀은 항상 틀린다"                                          ║
║     - ✅ "그 제안은 X 때문에 문제가 있다"                               ║
║                                                                         ║
║  2. 반드시 증거 기반 주장                                               ║
║     - ❌ "아마 그럴 것이다"                                             ║
║     - ✅ "데이터에 따르면 X이다 (출처: Y)"                              ║
║                                                                         ║
║  3. 상대 논점 먼저 요약 후 반박                                         ║
║     - ❌ "그건 틀렸다. 왜냐하면..."                                     ║
║     - ✅ "상대 주장은 A이다. 그러나 B 때문에 C가 더 적합하다"           ║
║                                                                         ║
║  4. MCP 도구 활용 필수                                                  ║
║     - Exa Search: 논문/사례 검색                                        ║
║     - Context7: 문서/API 확인                                           ║
║     - Browser Use: 실제 데이터 확인                                     ║
║                                                                         ║
╚═════════════════════════════════════════════════════════════════════════╝
```

### 3.2 VETO 시스템 (NASA Mission Control 기반)

```
┌─────────────────────────────────────────────────────────────────────────┐
│  VETO 시스템                                                            │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  VETO란?                                                                │
│  - 특정 조건에서 전체 진행을 중단시킬 수 있는 권한                      │
│  - NASA 발사 관제에서 유래: 한 명이라도 "NO-GO" → 전체 중단             │
│                                                                         │
│  VETO 발동 조건:                                                        │
│  ┌─────────────┬──────────────────────────────────────────────────┐    │
│  │ 팀          │ 조건                                              │    │
│  ├─────────────┼──────────────────────────────────────────────────┤    │
│  │ Risk Team   │ 하드 리미트 위반 (DD 25%, Daily Loss 10%)         │    │
│  │ QA Team     │ 백테스트 미통과 (승률 45% 미만)                   │    │
│  │ Red Team    │ 치명적 취약점 발견 (보안/데이터 손실)             │    │
│  └─────────────┴──────────────────────────────────────────────────┘    │
│                                                                         │
│  VETO 발동 시 프로세스:                                                 │
│  1. VETO 발동 팀이 근거 제시                                            │
│  2. 30분 논의 시간 (해결책 모색)                                        │
│  3. 해결 불가 시 해당 작업 보류                                         │
│  4. VETO 해제 조건 명확히 정의                                          │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 3.3 소수 의견 보호 메커니즘

```
╔═════════════════════════════════════════════════════════════════════════╗
║  소수 의견 보호 규칙 (Devil's Advocate)                                 ║
╠═════════════════════════════════════════════════════════════════════════╣
║                                                                         ║
║  1. 소수 의견 자동 기록                                                 ║
║     - 다수 의견과 다른 모든 의견 기록                                   ║
║     - "무시"가 아닌 "특별 검토 대상"으로 분류                           ║
║                                                                         ║
║  2. 소수 의견 특별 검토 조건                                            ║
║     - 근본 원인을 지적하는 경우                                         ║
║     - 다른 팀이 보지 못하는 관점인 경우                                 ║
║     - 장기적 리스크를 경고하는 경우                                     ║
║                                                                         ║
║  3. 소수 의견 무시 금지 조건                                            ║
║     - 증거 기반 주장인 경우                                             ║
║     - 과거에 맞았던 경우                                                │
║     - VETO 권한 팀의 경고인 경우                                        ║
║                                                                         ║
║  4. 소수 의견 반영 방법                                                 ║
║     - Phase Gate에 검증 항목으로 추가                                   ║
║     - 별도 "소수 의견 검토" 섹션 유지                                   ║
║     - 다음 토론회에서 결과 확인                                         ║
║                                                                         ║
╚═════════════════════════════════════════════════════════════════════════╝
```

---

## 4. 결과 도출 방법 (Result Derivation)

### 4.1 토론회 진행 프로세스

```
┌─────────────────────────────────────────────────────────────────────────┐
│  토론회 진행 7단계                                                      │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  Step 1: 현황 파악 (10분)                                               │
│  - 프로젝트 현재 상태 데이터 수집                                       │
│  - 문제점 목록 작성                                                     │
│  - 관련 파일/코드 확인                                                  │
│                                                                         │
│  Step 2: 팀별 분석 (팀당 5-10분)                                        │
│  - 각 팀이 자신의 관점에서 분석                                         │
│  - 냉혹한 진단 (솔직하게)                                               │
│  - 개선 제안                                                            │
│                                                                         │
│  Step 3: VETO 검토 (5분)                                                │
│  - VETO 권한 팀이 치명적 문제 확인                                      │
│  - VETO 발동 여부 결정                                                  │
│                                                                         │
│  Step 4: 소수 의견 수집 (5분)                                           │
│  - 다수와 다른 의견 기록                                                │
│  - "무시하면 안 되는 것" 분류                                           │
│                                                                         │
│  Step 5: 팀별 투표 (5분)                                                │
│  - 각 팀이 우선순위 투표                                                │
│  - 가중 투표 적용 (VETO 팀 우선)                                        │
│                                                                         │
│  Step 6: 합의 도출 (10분)                                               │
│  - 투표 결과 + 소수 의견 종합                                           │
│  - 최종 우선순위 결정                                                   │
│  - Phase Gate 정의                                                      │
│                                                                         │
│  Step 7: 계획서 작성 (10분)                                             │
│  - 합의 결과 문서화                                                     │
│  - 담당/검증/일정 명시                                                  │
│  - 소수 의견 게이트 포함                                                │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 4.2 가중 투표 시스템

다수결이 아닌 **가중 투표**를 사용합니다:

| 팀 유형 | 가중치 | 이유 |
|--------|-------|------|
| VETO 권한 팀 (Risk, QA, Red) | 2.0x | 치명적 오류 방지 |
| 핵심 전문 팀 (Quant, Data) | 1.5x | 도메인 전문성 |
| 지원 팀 (UX, Infra) | 1.0x | 기본 가중치 |
| Meta Team | 0.5x | 조율 역할 (투표보다 조정) |

### 4.3 합의 도출 공식

```
최종 우선순위 = Σ(팀 투표 × 가중치) + 소수 의견 보너스

소수 의견 보너스:
- 근본 원인 지적: +1.0
- VETO 팀 경고: +1.5
- 증거 기반: +0.5
```

---

## 5. 의사결정 기준 (Decision Criteria)

### 5.1 우선순위 분류

```
╔═════════════════════════════════════════════════════════════════════════╗
║  우선순위 분류 기준                                                     ║
╠═════════════════════════════════════════════════════════════════════════╣
║                                                                         ║
║  🔴 CRITICAL (즉시 해결)                                                ║
║  - 시스템이 작동하지 않음                                               ║
║  - 데이터 손실/보안 위험                                                ║
║  - 핵심 기능 완전 미작동                                                ║
║  - 예: 학습 시스템 미작동, 파이프라인 끊김                              ║
║                                                                         ║
║  🟠 HIGH (1주 내 해결)                                                  ║
║  - 시스템은 작동하나 불안정                                             ║
║  - 테스트 부족으로 위험                                                 ║
║  - 성능 문제                                                            ║
║  - 예: 테스트 커버리지 부족, Rust 미연동                                ║
║                                                                         ║
║  🟡 MEDIUM (1개월 내 해결)                                              ║
║  - 기술 부채                                                            ║
║  - 문서화 부족                                                          ║
║  - 개선 사항                                                            ║
║  - 예: TODO 정리, 문서 현행화                                           ║
║                                                                         ║
║  🟢 LOW (나중에)                                                        ║
║  - 부가 기능                                                            ║
║  - 최적화                                                               ║
║  - 예: 파라미터 최적화, UI 개선                                         ║
║                                                                         ║
╚═════════════════════════════════════════════════════════════════════════╝
```

### 5.2 Phase Gate 시스템

각 Phase 종료 시 **Gate 검증**을 수행합니다:

```
┌─────────────────────────────────────────────────────────────────────────┐
│  Phase Gate 시스템                                                      │
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  Gate 구조:                                                             │
│  ┌─────────────┬──────────────────────────────────────────────────┐    │
│  │ Gate 유형   │ 통과 조건                                         │    │
│  ├─────────────┼──────────────────────────────────────────────────┤    │
│  │ VETO Gate   │ VETO 권한 팀 승인 필수                            │    │
│  │ 다수 Gate   │ 과반수 팀 승인                                    │    │
│  │ 소수 Gate   │ 소수 의견 검토 완료                               │    │
│  │ 품질 Gate   │ 정량 지표 충족                                    │    │
│  └─────────────┴──────────────────────────────────────────────────┘    │
│                                                                         │
│  Gate 실패 시:                                                          │
│  - 다음 Phase 진행 금지                                                 │
│  - 실패 원인 분석                                                       │
│  - 해결 계획 수립 후 재검토                                             │
│                                                                         │
└─────────────────────────────────────────────────────────────────────────┘
```

### 5.3 소수 의견 게이트

```
소수 의견 게이트 (Minority Opinion Gate)

정의: 소수 의견이 맞았는지 검증하는 특별 게이트

검증 시점: 각 Phase 종료 시

검증 방법:
1. 소수 의견 목록 확인
2. 해당 의견이 맞았는지 데이터로 검증
3. 맞았다면 → 해당 팀 가중치 증가
4. 틀렸다면 → 원인 분석 (왜 틀렸는지)

예시:
- Quant Team: "전략 자체가 문제다"
  → 검증: 파이프라인 수정 후 승률이 개선되었는가?
  → 개선 안됨 → Quant 의견이 맞았음 → 전략 재검토 필수
```

---

## 6. 템플릿

### 6.1 토론회 진행 템플릿

```markdown
# [프로젝트명] 에이전트 팀 토론회

**일시**: YYYY-MM-DD
**주제**: [토론 주제]
**참석팀**: [팀 목록]

---

## 1. 현황 파악

### 데이터 수집 결과
[현재 상태 데이터]

### 주요 문제점
- [ ] 문제 1
- [ ] 문제 2

---

## 2. 팀별 분석

### [팀명] Team

**냉혹한 진단**:
```
[진단 내용]
```

**개선 제안**:
- 제안 1
- 제안 2

**VETO 검토**: [해당 시 VETO 조건 확인]

---

## 3. 소수 의견 수집

### 소수 의견 1: [제목] ([팀명])
```
[의견 내용]
```

**왜 무시하면 안 되는가**:
- 이유 1
- 이유 2

**반영 방안**:
- 방안 1

---

## 4. 투표 결과

| 팀 | 투표 | 가중치 | 가중 투표 |
|----|------|--------|----------|
| [팀명] | [의견] | [1.0/1.5/2.0] | [계산값] |

---

## 5. 합의 결과

### 최종 우선순위
1. [P0] [작업명]
2. [P1] [작업명]

### Phase Gate 정의
- VETO Gate: [조건]
- 소수 Gate: [조건]
- 품질 Gate: [조건]

---

## 6. 다음 단계
- [ ] 담당: [담당자]
- [ ] 일정: [일정]
- [ ] 검증: [검증 방법]
```

### 6.2 팀별 분석 템플릿

```markdown
## [팀명] Team 분석

### 역할
[이 팀의 역할 설명]

### 슈퍼바이저
- **최고**: [페르소나] - [관점]
- **시니어**: [페르소나] - [관점]

### 현재 상태 평가

| 항목 | 상태 | 점수 | 근거 |
|------|------|------|------|
| [평가 항목] | [🔴/🟠/🟡/🟢] | [0-100] | [데이터 기반 근거] |

### 냉혹한 진단
```
[솔직하고 직접적인 진단]
```

### 개선 제안
1. **즉시**: [제안]
2. **1주**: [제안]
3. **1개월**: [제안]

### VETO 검토 (해당 시)
- VETO 조건: [조건]
- 현재 상태: [충족/미충족]
- 권고: [VETO 발동/경고/승인]

### 소수 의견 (다수와 다른 경우)
```
[소수 의견 내용]
```
```

### 6.3 최종 합의 템플릿

```markdown
# [프로젝트명] 토론회 합의 결과

**일시**: YYYY-MM-DD
**버전**: 1.0

---

## 합의 요약

### 핵심 결론
[1-2문장으로 핵심 결론]

### 합의된 우선순위

| 순위 | 작업 | 담당 | 검증 | 일정 |
|------|------|------|------|------|
| P0 | [작업] | [팀] | [검증 방법] | [일정] |

---

## Phase 계획

### Phase 0: 즉시
| 작업 | 검증 | 소수 의견 반영 |
|------|------|---------------|
| [작업] | [검증] | [반영 방안] |

### Phase 1: [기간]
[계획 내용]

---

## Gate 정의

### VETO Gate
- Risk: [조건]
- QA: [조건]
- Red Team: [조건]

### 소수 의견 Gate
| 의견 | 팀 | 검증 방법 | 맞았을 경우 조치 |
|------|-----|----------|----------------|
| [의견] | [팀] | [검증] | [조치] |

---

## 다음 토론회
- 일정: [일정]
- 주제: Gate 통과 여부 검토
```

---

## 7. 사용 가이드

### 7.1 빠른 시작

```bash
# 1. 이 프레임워크 파일을 프로젝트에 복사
cp agent-team-adversarial-framework.md [프로젝트 경로]/_COMMAND_LIBRARY/

# 2. 프로젝트 룰스에 에이전트 팀 규칙 추가
# .cursor/rules/300_에이전트팀_구성.mdc 생성

# 3. 토론회 시작 시 다음 명령 사용
"반성 모드로 [주제] 분석해줘"
"에이전트 팀 토론회 시작"
```

### 7.2 토론회 트리거 키워드

| 키워드 | 실행 내용 |
|--------|----------|
| "반성 모드" | 전체 팀 토론회 시작 |
| "냉혹한 분석" | Red Team 중심 분석 |
| "[팀명] 관점에서" | 특정 팀 관점 분석 |
| "소수 의견 검토" | 소수 의견 특별 검토 |
| "VETO 검토" | VETO 조건 확인 |
| "Gate 검증" | Phase Gate 통과 확인 |

### 7.3 커스터마이징

프로젝트 성격에 맞게 다음을 수정하세요:

1. **팀 구성**: 필요한 팀 추가/제거
2. **VETO 조건**: 프로젝트별 위험 기준 정의
3. **가중치**: 도메인 전문성에 따라 조정
4. **Gate 조건**: 프로젝트 목표에 맞게 정의

---

## 8. 부록

### A. 팀 페르소나 상세

| 팀 | 최고 슈퍼바이저 페르소나 | 시니어 슈퍼바이저 페르소나 |
|----|------------------------|--------------------------|
| Risk | "최악의 시나리오를 항상 생각한다" | "모든 위험에 대한 데이터가 있어야 한다" |
| QA | "버그 없는 코드는 테스트 없는 코드보다 낫다" | "모든 엣지 케이스를 확인해야 한다" |
| Red | "해커처럼 생각해야 해커를 막는다" | "방어는 공격보다 어렵다" |
| Quant | "새로운 알파를 찾아야 한다" | "학술적으로 검증된 것만 신뢰한다" |
| Data | "데이터 없이 결정하지 않는다" | "데이터 품질이 모든 것의 기초다" |
| Evolution | "시스템은 스스로 개선되어야 한다" | "피드백 루프 없이 진화는 없다" |

### B. VETO 발동 예시

```
예시 1: Risk Team VETO
상황: 백테스트에서 최대 DD 30% 기록
조건: 하드 리미트 25% 초과
결과: VETO 발동, 리스크 관리 강화 후 재검토

예시 2: QA Team VETO
상황: 핵심 모듈 테스트 커버리지 0%
조건: 백테스트 신뢰성 검증 불가
결과: VETO 발동, 테스트 작성 후 재검토

예시 3: Red Team VETO
상황: API 키가 코드에 하드코딩
조건: 치명적 보안 취약점
결과: VETO 발동, 보안 수정 후 재검토
```

### C. 소수 의견이 맞았던 역사적 사례

| 사례 | 소수 의견 | 결과 |
|------|----------|------|
| Challenger 사고 | 엔지니어: "O-ring 문제 있다" | 무시 → 사고 발생 |
| 2008 금융위기 | 소수 분석가: "서브프라임 위험" | 무시 → 위기 발생 |
| Nokia | 내부 팀: "스마트폰 전환 필요" | 무시 → 시장 지배력 상실 |

---

**이 프레임워크는 지속적으로 개선됩니다. 사용 후 피드백을 반영하여 업데이트하세요.**

