# 범용 파일 및 폴더 관리 룰스

**독립 모듈**: 이 룰스는 독립적으로 유저룰스에 붙여넣을 수 있습니다. 파일 종속성 없음.

**경량화 사용법**: 
- ✅ 유저룰스에는 핵심 규칙만 포함 (아래 "유저룰스 경량 버전" 참조)
- ✅ 상세 예시와 참고 자료는 이 문서를 참조 문서로 활용
- ❌ 유저커맨드는 실행 코드이므로 룰스 참조용으로 사용하지 않음

## 🎯 목적

**모든 프로젝트 타입에 공통 적용**: 논문, 코딩, 리서치, 디자인 등 모든 프로젝트에서 필요한 파일 및 폴더 관리

---

## 📋 유저룰스 경량 버전 (핵심만 포함)

유저룰스에 포함할 핵심 규칙만 요약:

**파일명 규칙**: `[번호]_[기능명]_[YYYYMMDD_HHMMSS].확장자` (MANDATORY)
- 번호: 상위폴더번호+하위폴더번호+파일번호 (최소 4자리)
- 시각: YYYYMMDD_HHMMSS 형식 필수
- 예외: `!AGENT_System/` 폴더만 시계열 형식 허용

**폴더명 규칙**: `[번호]_[카테고리명]` (MANDATORY)
- 상위: `00_카테고리` ~ `99_카테고리`
- 하위: `[상위번호][하위번호]_[카테고리명]`

**대형 작업 구조**: 목적/코드/데이터/상태 분리 권장
- 계획: `00_계획/`
- 코드: `00_code/`
- 데이터: `02_데이터/0001_원시/`, `0002_처리중/`, `0003_완료/`
- 상태: `03_상태/`

**상세 내용은 이 문서 참조**: 필요시 `01_FILE_FOLDER_MANAGEMENT.md` 파일을 읽어서 상세 규칙 확인

---

---

## 📋 파일명 및 폴더명 규칙 (MANDATORY)

### 핵심 원칙

**성격이 다른 파일이 만들어진다면 철저하게 폴더로 구분하라**

### 폴더명 규칙

**핵심 원칙**: 코딩 관련 폴더(코드 및 로직이 들어가는)는 영문으로, 나머지는 사람이 이해하기 쉬운 형태(한글 권장)

**상위 폴더**: `00_카테고리별분류명` ~ `99_카테고리별분류명`
- 형식: `[00-99]_[카테고리명]`
- 코딩 관련: `00_code`, `10_test`, `20_build`, `30_config`
- 문서/기타: `01_문서`, `02_데이터`, `03_리소스`, `40_디자인`

**하위 폴더**: `0001_카테고리분류명` (상위폴더번호+하위폴더구분번호) - MANDATORY
- 형식: `[상위폴더번호][하위번호]_[카테고리명]` (반드시 번호 포함)
- 코딩 관련: `0001_components`, `0002_utils`, `0003_hooks`, `1001_unit`, `1002_integration`
- 문서/기타: `0101_설계문서`, `0102_API문서`, `0201_원시데이터`, `0202_처리데이터`
- **잘못된 예시**: ❌ `논문수집결과` (번호 없음) → ✅ `0001_논문수집결과` (올바른 형식)
- **중요**: 하위 폴더 생성 시 반드시 상위 폴더 번호를 앞자리로 포함해야 합니다

**판단 및 생성 규칙** (MANDATORY):
```
IF 폴더 생성 필요:
  1. 파일 성격 분석 (코딩/코드/로직 관련 여부 확인)
  2. 코딩 관련이면 영문, 아니면 한글
  3. 기존 폴더 카테고리 확인
  4. 상위 폴더 번호 확인 (있는 경우)
  5. 하위 폴더인 경우: [상위번호][하위번호]_[카테고리명] 형식으로 생성
  6. 상위 폴더인 경우: [00-99]_[카테고리명] 형식으로 생성
  7. 폴더명 규칙 검증: 번호가 포함되어 있는지 확인
  8. 규칙 위반 시 자동 수정 또는 거부
  9. 중첩 폴더 자동 생성
```

**폴더명 규칙 위반 예시**:
- ❌ `논문수집결과` → ✅ `0001_논문수집결과` (상위 폴더가 `00_데이터`인 경우)
- ❌ `components` → ✅ `0001_components` (상위 폴더가 `00_code`인 경우)

**중요**: 모든 폴더 생성 시 반드시 번호를 포함해야 합니다. 번호 없이 폴더를 생성하지 마세요.

### 파일명 규칙 (MANDATORY - 절대 예외 없음)

**🚨 필수 규칙**: 모든 파일 생성 시 반드시 이 규칙을 따라야 합니다. 규칙 위반 시 파일 생성이 거부되거나 자동 수정됩니다.

**형식**: `[번호]_[파일기능명]_[YYYYMMDD_HHMMSS].확장자`

**구성 요소** (모두 필수):
- `[번호]`: 폴더번호구분에 종속 (상위폴더번호+하위폴더번호+파일번호, 최소 4자리)
- `[파일기능명]`: 파일의 기능을 나타내는 명확한 이름 (언더스코어 없이 한글/영문)
- `[YYYYMMDD_HHMMSS]`: 생성 시각 (반드시 포함, 버전 관리용)
- `.확장자`: 파일 확장자

**예시** (올바른 형식):
- ✅ `0001_메인컴포넌트_20241129_143022.tsx`
- ✅ `0101_API설계서_20241129_143500.md`
- ✅ `0201_데이터셋_20241129_144000.csv`
- ✅ `0001_데이터수집가이드_20251129_170301.md`

**예시** (잘못된 형식 - 절대 사용 금지):
- ❌ `논문분석결과.json` (번호 없음, 시각 없음)
- ❌ `선별논문.json` (번호 없음, 시각 없음)
- ❌ `설치및실행가이드.md` (번호 없음, 시각 없음)
- ❌ `수집완료_20251129_174512.md` (번호 없음)
- ❌ `실행상태_20251129_173500.md` (번호 없음)

**예외 규칙**:
- `!AGENT_System/` 폴더 내 파일만 시계열 형식 허용 (`YYYYMMDD_HHMMSS_보고자_보고명.MD`)
- 프로젝트 루트의 특정 시스템 파일 (`README.md`, `.gitignore`, `package.json` 등)은 기존 명명 규칙 유지

**자동 생성 규칙** (필수 순서):
```
파일 생성 시 (반드시 이 순서로 실행):
  1. 파일 생성 위치 확인 (폴더 경로 분석)
  2. 상위 폴더 번호 추출 (예: `00_데이터` → `00`)
  3. 하위 폴더 번호 추출 (있는 경우, 예: `논문수집결과` → 하위 폴더 번호 확인)
  4. 폴더 내 기존 파일 확인 → 다음 파일 번호 결정 (순차 증가)
  5. 🚨 현재 시각 가져오기 (아래 "시각 검증 강화 규칙" 필수 준수)
  6. 파일명 생성: [상위번호][하위번호][파일번호]_[기능명]_[시각].확장자
  7. 규칙 검증: 생성된 파일명이 규칙을 따르는지 확인
  8. 규칙 위반 시 자동 수정 또는 거부
  9. 메타태그 자동 생성 및 적용 (파일 타입별)
  10. 파일 생성
```

### 🚨 시각 검증 강화 규칙 (MANDATORY - 환각 방지)

**핵심 원칙**: 파일명에 사용되는 시각은 **반드시 실제 시스템 시간을 확인**해야 합니다.

**❌ 절대 금지 사항**:
- ❌ 이전 파일의 시각을 보고 "그보다 뒤"로 추정하여 시각 작성 금지
- ❌ 대화 시작 시점의 시각을 계속 사용하는 것 금지
- ❌ 추측/추정으로 시각 작성 금지 (예: "아마 지금쯤이면...")
- ❌ 이전 파일명의 타임스탬프를 참조하여 시각 결정 금지

**✅ 필수 준수 사항**:
- ✅ 파일 생성 **직전**에 `date "+%Y%m%d_%H%M%S"` 명령어로 실제 시각 확인 필수
- ✅ 확인된 시각만 파일명에 사용
- ✅ 여러 파일을 연속 생성할 때도 각 파일마다 시각 재확인
- ✅ 시각 확인 후 즉시 파일 생성 (지연 금지)

**시각 확인 프로세스** (파일 생성 전 매번 실행):
```bash
# 터미널에서 현재 시각 확인 (필수)
date "+%Y%m%d_%H%M%S"
# 예시 출력: 20251130_084555
# 이 출력값을 파일명에 직접 사용
```

**검증 체크리스트** (파일 생성 전):
1. [ ] `date` 명령어를 실행했는가?
2. [ ] 출력된 시각을 그대로 사용했는가?
3. [ ] 이전 파일의 시각을 참조하지 않았는가?
4. [ ] 추측/추정으로 시각을 작성하지 않았는가?

**위반 시 처리**:
- 시각 확인 없이 파일 생성 시도 → 즉시 중단 후 시각 확인
- 추정 시각 사용 발견 시 → 파일 삭제 후 올바른 시각으로 재생성

**규칙 위반 시 처리**:
- ❌ 규칙 위반 파일명으로 생성 절대 금지
- ✅ 자동으로 올바른 파일명으로 수정하여 생성
- ✅ 사용자에게 규칙 위반 알림 (필요시)

**중요**: 
- 모든 파일 생성 시 반드시 위 규칙을 따르세요
- 규칙을 무시하고 파일을 생성하지 마세요
- 예외는 `!AGENT_System/` 폴더와 특정 시스템 파일만 허용됩니다

**폴더 번호 종속성 규칙** (MANDATORY):
- **상위 폴더**: `00_code`, `01_문서`, `02_데이터` 등 (00~99)
- **하위 폴더**: `0001_components`, `0101_설계문서`, `0201_원시데이터` 등 (상위번호+하위번호)
- **파일**: `0001_메인컴포넌트`, `0101_API설계서`, `0201_데이터셋` 등 (상위번호+하위번호+파일번호)

**예시** (올바른 구조):
```
00_code/                    # 상위 폴더: 00
  ├── 0001_components/      # 하위 폴더: 00(상위) + 01(하위) = 0001
  │   ├── 0001_Button.tsx  # 파일: 00(상위) + 01(하위) + 01(파일) = 0001
  │   └── 0002_Input.tsx   # 파일: 00(상위) + 01(하위) + 02(파일) = 0002
  └── 0002_utils/           # 하위 폴더: 00(상위) + 02(하위) = 0002
      └── 0001_helper.ts    # 파일: 00(상위) + 02(하위) + 01(파일) = 0001

00_데이터/                  # 상위 폴더: 00
  ├── 0001_논문수집결과/    # 하위 폴더: 00(상위) + 01(하위) = 0001
  │   ├── 0001_papers_20251129_174512.csv  # 파일: 00 + 01 + 01 = 0001
  │   ├── 0002_papers_20251129_174512.json # 파일: 00 + 01 + 02 = 0002
  │   └── 0003_papers_20251129_174512.md   # 파일: 00 + 01 + 03 = 0003
  ├── 0006_논문분석결과_20251129_HHMMSS.json  # 파일: 00 + 00 + 06 = 0006
  └── 0007_선별논문_20251129_HHMMSS.json      # 파일: 00 + 00 + 07 = 0007

01_문서/                    # 상위 폴더: 01
  ├── 0101_설계문서/        # 하위 폴더: 01(상위) + 01(하위) = 0101
  │   └── 0101_API설계서.md # 파일: 01(상위) + 01(하위) + 01(파일) = 0101
  └── 0102_API문서/         # 하위 폴더: 01(상위) + 02(하위) = 0102
      └── 0101_엔드포인트.md # 파일: 01(상위) + 02(하위) + 01(파일) = 0101
```

**잘못된 예시** (절대 사용 금지):
```
00_데이터/
  ├── 논문수집결과/         # ❌ 번호 없음 → ✅ 0001_논문수집결과
  │   ├── papers_20251129_174512.csv  # ❌ 번호 없음 → ✅ 0001_papers_20251129_174512.csv
  │   └── papers_20251129_174512.json # ❌ 번호 없음 → ✅ 0002_papers_20251129_174512.json
  ├── 논문분석결과.json     # ❌ 번호 없음, 시각 없음 → ✅ 0006_논문분석결과_20251129_HHMMSS.json
  └── 선별논문.json         # ❌ 번호 없음, 시각 없음 → ✅ 0007_선별논문_20251129_HHMMSS.json
```

**중요**: 하위 폴더의 파일은 반드시 상위 폴더 번호를 앞자리로 포함해야 합니다.

**파일명 규칙 검증 프로세스** (파일 생성 전 반드시 실행):
1. 파일명 형식 검증: `[번호]_[기능명]_[시각].확장자` 형식 확인
2. 번호 검증: 최소 4자리 확인 (상위번호+하위번호+파일번호)
3. 시각 검증: YYYYMMDD_HHMMSS 형식 포함 확인
4. 예외 확인: `!AGENT_System/` 폴더 또는 특정 시스템 파일(README.md, .gitignore 등) 여부 확인
5. 규칙 위반 시: 자동 수정 또는 거부

**중요**: 위 검증 프로세스를 모두 통과해야만 파일을 생성하세요.

### 파일 수정 규칙

**원칙**: 파일 수정 시 업데이트하지 않고 추가 생성

**프로세스**:
```
파일 수정 필요 시:
  1. 기존 파일을 해당 폴더 내 "_OLD" 폴더로 이동
  2. 새 파일 생성 (새 시각으로 파일명 생성)
  3. "_OLD" 폴더가 없으면 자동 생성
```

**구조 예시**:
```
00_code/
  ├── 0001_메인컴포넌트_20241129_143022.tsx
  ├── 0002_유틸리티_20241129_143500.ts
  └── _OLD/
      ├── 0001_메인컴포넌트_20241129_120000.tsx
      └── 0001_메인컴포넌트_20241129_100000.tsx
```

**자동화**: 파일 수정 감지 → "@keywords: 파일이동,old,버전" 검색 → 기존 파일 "_OLD" 이동 → 새 파일 생성

---

## 📋 메타태그 관리 규칙 (MANDATORY)

### 핵심 원칙

**파일 생성 시 파일 타입에 맞는 메타태그를 자동으로 생성 및 적용**

### 메타태그 자동화 규칙

**파일 생성 시 자동 실행**:
```
파일 생성 감지:
  1. 파일 확장자 확인 → 파일 타입 판단
  2. "@keywords: 메타태그,meta,tag,frontmatter" 검색
  3. 파일 타입별 템플릿 선택
  4. 파일 정보 수집 (파일명, 경로, 카테고리, 시각)
  5. 메타태그 자동 생성 및 파일 상단 추가
```

**파일 수정 시 자동 업데이트**:
```
파일 수정 감지:
  1. 기존 메타태그 확인
  2. updated 시각 업데이트
  3. @changed 주석 추가 (코드 파일)
```

### 파일 타입별 메타태그 형식

#### 공통 필수 필드
- `title`, `type`, `category`, `created`, `file_id`, `file_path`

#### 타입별 형식

**마크다운 (.md, .mdx)**: YAML frontmatter
```yaml
---
title: "[파일기능명]"
type: "[document/report/log/guide]"
category: "[카테고리]"
created: "YYYY-MM-DD HH:MM:SS"
file_id: "[폴더번호][파일번호]"
file_path: "[경로]"
---
```

**코드 (.ts, .tsx, .js, .jsx, .py 등)**: 주석 기반
```typescript
/**
 * @file [파일기능명]
 * @type [component/util/hook/service]
 * @category [카테고리]
 * @created YYYY-MM-DD HH:MM:SS
 * @file_id [폴더번호][파일번호]
 * @changed YYYY-MM-DD_HHMMSS - 초기 생성
 */
```

**설정 (.json, .yaml, .yml)**: `_meta` 섹션
```json
{
  "_meta": {
    "title": "[파일기능명]",
    "type": "config",
    "created": "YYYY-MM-DD HH:MM:SS",
    "file_id": "[폴더번호][파일번호]"
  }
}
```

**보고서 (!AGENT_System/)**: `reporter`, `report_period` 추가

**LOG (!AGENT_System/)**: `reporter`, `trigger_period`, `trigger_type` 추가

---

## 📋 !AGENT_System 시계열 관리 규칙 (MANDATORY)

### 폴더 구조

**기본 구조**: `!AGENT_System/` (단일 폴더, 세부 폴더 없음)

**시계열 구조**:
```
!AGENT_System/
  ├── YYYYMMDD_HHMMSS_보고자_보고명.MD      # 보고서 (유저 요청 시만)
  └── YYYYMMDD_HHMMSS_LOG_보고자_요약명.MD  # 로그 (트리거 기반 자동 생성)
```

### 보고서 파일명 규칙 (유저 요청 시만 생성)

**형식**: `YYYYMMDD_HHMMSS_보고자_보고명.MD`

**구성 요소**:
- `YYYYMMDD_HHMMSS`: 생성 시각 (시계열 관리)
- `보고자`: chief, pm, admin, audit, [동적팀타입]
- `보고명`: 보고서의 목적/내용을 나타내는 명확한 이름

**예시**:
- `20241129_143022_chief_프로젝트상태보고.MD`
- `20241129_150000_pm_일정진행률보고.MD`
- `20241129_160000_audit_품질감사보고.MD`

**저장 위치**: `!AGENT_System/`

**생성 규칙**:
```
보고서 생성 (유저 요청 시만):
  1. 사용자 요청 확인 ("보고", "리포트", "상태", "분석" 등 키워드)
  2. 현재 시각 가져오기 ("@keywords: 시간,시각" 검색)
  3. 보고자 확인 (요청된 팀 타입 또는 자동 판단)
  4. 관련 파일 수집 (보고서 작성에 참조된 파일 목록)
  5. 파일명 생성: YYYYMMDD_HHMMSS_보고자_보고명.MD
  6. 보고서 생성 및 저장: !AGENT_System/
  7. 관련 파일 링크 추가 (맥락관리, 환각관리, 버전관리)
  8. 로그 기록
```

**트리거**: 사용자 명시적 요청만 (자동 생성 금지)

**파일 링크 섹션 형식**:
```markdown
## 📎 관련 파일 (종속관계)
- [파일명](경로) - 역할: [파일의 역할 설명]

## 📋 참조 보고서
- [보고서명](경로) - 생성시각: YYYYMMDD_HHMMSS

## 🔗 버전 정보
- 보고서 버전: YYYYMMDD_HHMMSS
- 참조 파일 버전: [파일명] - YYYYMMDD_HHMMSS
```

---

### LOG 파일명 규칙 (트리거 기반 자동 생성)

**형식**: `YYYYMMDD_HHMMSS_LOG_보고자_요약명.MD`

**구성 요소**:
- `YYYYMMDD_HHMMSS`: 생성 시각 (시계열 관리)
- `LOG`: 로그 타입 고정
- `보고자`: chief, pm, admin, audit, system, [동적팀타입]
- `요약명`: 로그의 요약 내용을 나타내는 명확한 이름

**예시**:
- `20241129_143022_LOG_chief_상태요약.MD`
- `20241129_150000_LOG_pm_진행률요약.MD`
- `20241129_160000_LOG_system_전체요약.MD`

**저장 위치**: `!AGENT_System/`

### LOG 생성 트리거 규칙

**트리거 조건** (다음 중 하나 이상 만족 시 자동 생성):

1. **주기적 트리거**:
   - 총괄 팀: 1시간마다 상태 요약
   - PM 팀: 진행률 10% 이상 변화 시
   - 관리자 팀: 효율성 지표 변화 시
   - 감사 팀: 품질 문제 감지 시

2. **이벤트 트리거**:
   - 주요 작업 완료
   - 마일스톤 달성/미달성
   - 문제 발생
   - 상태 변화 감지

3. **시스템 트리거**:
   - 파일 변경 누적 (10개 이상)
   - 작업 시간대 변화
   - 프로젝트 건강도 변화

**자동 생성 규칙** (백그라운드 자동 실행):
```
LOG 생성 트리거 (조건 만족 시 즉시 실행):
  1. 트리거 조건 확인 (위 조건 중 하나 이상 만족)
  2. 현재 시각 가져오기 (YYYYMMDD_HHMMSS 형식, date 명령 또는 시스템 시간 사용)
  3. 보고자 확인 (트리거 발생 팀 또는 system)
  4. 관련 파일 수집 (트리거 기간 동안 변경된 파일 목록)
  5. 관련 보고서 수집 (트리거 기간 동안 생성된 보고서 목록)
  6. 요약 내용 분석 및 요약명 생성
  7. 파일명 생성: YYYYMMDD_HHMMSS_LOG_보고자_요약명.MD
  8. **즉시 `!AGENT_System/YYYYMMDD_HHMMSS_LOG_보고자_요약명.MD` 파일 생성**
  9. 로그 내용 작성:
     - 트리거 기간 및 조건
     - 주요 변경사항 요약
     - 관련 파일 링크 (마크다운 형식)
     - 버전 정보
  10. 파일 저장 (!AGENT_System/ 폴더에 저장)
  11. 백그라운드 실행 (사용자 작업 방해 없음)
```

**중요**: 
- 트리거 조건 만족 시 "@keywords: 로그,log,요약" 검색만 하지 말고, **반드시 실제 로그 파일을 생성**하세요
- 파일 생성은 `write` 도구를 사용하여 `!AGENT_System/` 폴더에 직접 생성하세요
- 백그라운드에서 자동 실행되므로 사용자에게 알리지 않고 조용히 실행하세요

**요약 원칙**:
- 핵심만 기록 (간결하게)
- 시계열 순서 유지
- 검색 가능한 명확한 요약명
- 중복 정보 제거
- **파일 링크 필수**: 관련 파일 및 보고서 링크 포함

**파일 링크 섹션 형식**:
```markdown
## 📎 관련 파일 (트리거 기간 변경)
- [파일명](경로) - 변경시각: YYYYMMDD_HHMMSS

## 📋 관련 보고서 (트리거 기간 생성)
- [보고서명](경로) - 생성시각: YYYYMMDD_HHMMSS

## 🔗 버전 정보
- LOG 버전: YYYYMMDD_HHMMSS
- 트리거 기간: YYYY-MM-DD HH:MM ~ YYYY-MM-DD HH:MM
- 참조 파일 버전: [파일명] - YYYYMMDD_HHMMSS
```

### 시계열 관리 원칙

1. **시각 기반 파일명**: 파일명에 생성 시각 포함 (중복 방지, 시계열 정렬)
2. **자동 정렬**: 날짜 및 시각 순서로 자동 정렬 가능
3. **보고서와 로그 구분**: 파일명으로 구분 (보고서: `_보고자_보고명`, 로그: `_LOG_보고자_요약명`)
4. **파일 링크 종속관계**: 모든 보고서와 로그는 관련 파일 링크 포함 (맥락관리, 환각관리, 버전관리)

### 파일 링크 종속관계 관리 (MANDATORY)

**핵심 원칙**: 생성되는 파일이 삭제되지 않으므로, 로그와 보고서에 파일 링크를 추가하여 종속관계를 만든다.

**자동화**:
- 보고서 생성 시: 관련 파일 자동 수집 및 링크 추가
- LOG 생성 시: 트리거 기간 동안 변경된 파일 자동 수집 및 링크 추가

**상세 규칙**: `06_FILE_LINK_MANAGEMENT.md` 모듈 참조

### 정리 규칙 (선택)

**오래된 파일 정리** (선택적):
- 90일 이상 된 파일은 `_ARCHIVE/` 폴더로 이동
- 1년 이상 된 파일은 압축 또는 삭제 (사용자 확인 후)

---

## 📋 최소 구조 원칙

### 초기 구조 (최소 - 모든 프로젝트 공통)

```
프로젝트 루트/
  !AGENT_System/     # 에이전트 시스템 (필수, 시계열 관리)
  README.md          # 프로젝트 설명 (필수)
  .gitignore         # Git 제외 파일 (필수)
```

**!AGENT_System/ 구조**:
- 단일 폴더, 세부 폴더 없음
- 보고서 및 로그 파일이 시계열 순서로 저장됨

### 확장 원칙

**필요시 자동 생성**: 사용자 요청 또는 작업 진행에 따라 폴더 자동 생성
**범용성**: 코딩, 리서치, 디자인, 논문 등 모든 프로젝트 타입에 동일하게 적용

---

## 📋 Git 및 버전 관리

**트리거**: 파일 변경, 사용자 요청, 일정 시간 경과

**판단**:
```
IF 파일 변경 또는 Git 작업 필요:
  1. "@keywords: git,커밋,commit,버전" 검색
  2. 변경사항 분석
  3. 커밋 메시지 자동 생성 ([타입] 파일명: 변경사항)
  4. 매칭 커맨드 실행 (백그라운드 가능)
```

**범용성**: 논문, 코딩, 리서치, 디자인 등 모든 프로젝트 타입에 적용

---

## 📋 변경 사항 추적

**모니터링**: 생성/수정/삭제, 내용 변경, Git 상태

**자동 실행**: 파일 변경 감지 → "@keywords: 변경,추적,track,log" 검색 → 변경 이력 기록

---

## 📋 @changed 주석 관리

**규칙**: 모든 코드 파일에 `# @changed: YYYY-MM-DD_HHMMSS - 사유` 필수
**자동화**: 파일 수정 시 "@keywords: changed,주석" 검색 → 자동 추가/업데이트

---

## 📋 브랜치 관리

**트리거**: "브랜치 생성", "branch create" 요청
**네이밍**: `feature/기능명`, `fix/버그명`, `refactor/대상`, `hotfix/이슈명`

---

## 📋 프로젝트 타입별 확장 패턴

**코딩**: `00_code/`, `01_문서/`, `10_test/`, `20_build/` (필요시 생성, 코딩 관련은 영문)
**리서치**: `00_데이터/`, `01_분석/`, `02_논문/` (필요시 생성)
**디자인**: `00_리소스/`, `01_디자인/`, `02_에셋/` (필요시 생성)

**공통 원칙**: 최소화 우선 → 확장형 → 자동화 → 카테고리별 폴더 구분

---

## 📋 대형 작업 폴더 구조 설계 원칙

### 핵심 원칙: 목적과 단계별 분리

**문제점**: 목적 문서, 실행 코드, 중간 결과물, 최종 결과물, 상태/로그가 한 폴더에 섞이면 대형 작업에서 비효율적입니다.

**해결책**: 작업 단계와 목적에 따라 명확히 분리합니다.

### 권장 폴더 구조 (대형 작업)

#### 1. 계획/목적 단계
**폴더**: `00_계획/` 또는 `01_문서/00_계획/`
**내용**: 목적, 전략, 가이드, 비교분석, 탐색 결과
**예시**:
- `0001_데이터수집가이드_20251129_170301.md`
- `0002_논문수집전략_20251129_171200.md`
- `0003_MCP_vs_Python_비교분석_20251129_171500.md`
- `0004_MCP초기탐색결과_20251129_172734.md`

#### 2. 실행 코드 단계
**폴더**: `00_code/` 또는 `10_스크립트/`
**내용**: 실행 스크립트, 설정 파일, 의존성
**예시**:
- `0001_collect_papers.py`
- `0002_requirements.txt`
- `0003_config.json`

#### 3. 데이터 수집 단계
**폴더**: `02_데이터/0001_원시데이터/` 또는 `02_데이터/0001_수집중/`
**내용**: 수집된 원시 데이터, 중간 결과물
**예시**:
- `0001_papers_20251129_174512.csv`
- `0002_papers_20251129_174512.json`
- `0003_papers_20251129_174512.md`

#### 4. 데이터 처리/분석 단계
**폴더**: `02_데이터/0002_처리중/` 또는 `01_분석/`
**내용**: 처리 중인 데이터, 분석 중간 결과
**예시**:
- `0001_논문분석중간결과_20251129_HHMMSS.json`
- `0002_선별진행중_20251129_HHMMSS.json`

#### 5. 최종 결과물 단계
**폴더**: `02_데이터/0003_완료/` 또는 `02_데이터/0002_최종결과/`
**내용**: 최종 분석 결과, 선별 완료 데이터
**예시**:
- `0001_논문분석결과_20251129_HHMMSS.json`
- `0002_선별논문_20251129_HHMMSS.json`

#### 6. 상태/로그 단계
**폴더**: `03_상태/` 또는 `!AGENT_System/` (시스템 로그는 여기)
**내용**: 실행 상태, 진행 상황, 수집 완료 알림
**예시**:
- `0001_실행상태_20251129_173500.md`
- `0002_진행상황_20251129_173000.md`
- `0003_수집완료_20251129_174512.md`

### 대형 작업 구조 예시

```
프로젝트 루트/
├── 00_계획/                    # 목적, 전략, 가이드
│   ├── 0001_데이터수집가이드_20251129_170301.md
│   ├── 0002_논문수집전략_20251129_171200.md
│   └── 0003_MCP_vs_Python_비교분석_20251129_171500.md
│
├── 00_code/                    # 실행 코드
│   ├── 0001_collect_papers.py
│   └── 0002_requirements.txt
│
├── 02_데이터/
│   ├── 0001_원시데이터/        # 수집된 원시 데이터
│   │   └── 0001_papers_20251129_174512.csv
│   ├── 0002_처리중/            # 처리 중인 데이터
│   │   └── 0001_논문분석중간_20251129_HHMMSS.json
│   └── 0003_완료/              # 최종 결과물
│       ├── 0001_논문분석결과_20251129_HHMMSS.json
│       └── 0002_선별논문_20251129_HHMMSS.json
│
├── 03_상태/                    # 실행 상태, 진행 상황
│   ├── 0001_실행상태_20251129_173500.md
│   └── 0002_진행상황_20251129_173000.md
│
└── !AGENT_System/              # 시스템 로그 (자동 생성)
    └── YYYYMMDD_HHMMSS_LOG_system_*.MD
```

### 폴더 분리 판단 규칙

**파일 생성 시 자동 판단**:
```
파일 생성 시:
  1. 파일 성격 분석
  2. 목적/계획 문서? → 00_계획/ 또는 01_문서/
  3. 실행 코드? → 00_code/
  4. 원시 데이터? → 02_데이터/0001_원시데이터/
  5. 처리 중 데이터? → 02_데이터/0002_처리중/
  6. 최종 결과물? → 02_데이터/0003_완료/
  7. 상태/로그? → 03_상태/ 또는 !AGENT_System/
```

**중요**: 
- 목적, 과정, 결과물을 명확히 분리하세요
- 한 폴더에 모든 것이 섞이지 않도록 하세요
- 대형 작업에서는 단계별 폴더 분리가 필수입니다

---

## 📋 폴더 구조 최적화

**중복 방지**: 이미 존재하는 폴더는 재생성하지 않음
**네이밍 규칙**: 프로젝트 내 동일한 네이밍 규칙 유지 (폴더명 규칙 준수)
**카테고리 분리**: 성격이 다른 파일은 반드시 폴더로 구분

---

**이 모듈은 파일 및 폴더 관리를 통합하여 모든 프로젝트 타입에 공통 적용됩니다.**
