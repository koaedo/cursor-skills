---
description: "코드 리뷰 스킬 - 체계적인 코드 품질 검토"
alwaysApply: false
---

# Code Review Skill

체계적인 코드 리뷰를 위한 가이드입니다.

---

## 🎯 리뷰 원칙

### 1. 목적

- **버그 발견**: 잠재적 오류, 엣지 케이스
- **코드 품질**: 가독성, 유지보수성
- **지식 공유**: 팀 학습, 패턴 전파
- **일관성**: 코드 스타일, 아키텍처

### 2. 태도

```
✅ 건설적인 피드백
- "이 부분을 X로 변경하면 Y 때문에 더 좋을 것 같습니다"
- "이 패턴 대신 Z를 고려해보셨나요?"

❌ 비건설적인 피드백
- "이건 틀렸습니다"
- "왜 이렇게 했나요?"
```

---

## 📋 리뷰 체크리스트

### 1. 기능 (Functionality)

```
[ ] 요구사항을 충족하는가?
[ ] 엣지 케이스를 처리하는가?
[ ] 에러 처리가 적절한가?
[ ] 기존 기능에 영향을 주지 않는가?
```

### 2. 설계 (Design)

```
[ ] 단일 책임 원칙을 따르는가?
[ ] 적절한 추상화 수준인가?
[ ] 의존성이 적절한가?
[ ] 확장 가능한 구조인가?
```

### 3. 코드 품질 (Code Quality)

```
[ ] 변수/함수 이름이 명확한가?
[ ] 함수 길이가 적절한가? (20줄 이하 권장)
[ ] 중복 코드가 없는가?
[ ] 불필요한 주석이 없는가?
```

### 4. 성능 (Performance)

```
[ ] 불필요한 연산이 없는가?
[ ] N+1 쿼리 문제가 없는가?
[ ] 메모리 누수 가능성이 없는가?
[ ] 적절한 캐싱이 적용되었는가?
```

### 5. 보안 (Security)

```
[ ] 입력 검증이 적절한가?
[ ] SQL 인젝션 방지가 되어있는가?
[ ] XSS 방지가 되어있는가?
[ ] 민감 정보가 노출되지 않는가?
```

### 6. 테스트 (Testing)

```
[ ] 테스트가 있는가?
[ ] 테스트 커버리지가 충분한가?
[ ] 테스트가 의미있는가?
[ ] 엣지 케이스 테스트가 있는가?
```

---

## 🔍 자주 발견되는 문제

### 1. 에러 처리 부족

```typescript
// ❌ 에러 무시
try {
  await fetchData();
} catch (e) {
  // 무시
}

// ✅ 적절한 에러 처리
try {
  await fetchData();
} catch (error) {
  logger.error('Failed to fetch data:', error);
  showErrorToast('데이터를 불러올 수 없습니다');
  throw error; // 또는 기본값 반환
}
```

### 2. 하드코딩된 값

```typescript
// ❌ 매직 넘버
if (status === 1) { ... }
setTimeout(fn, 300000);

// ✅ 상수 사용
const STATUS_ACTIVE = 1;
const FIVE_MINUTES_MS = 5 * 60 * 1000;

if (status === STATUS_ACTIVE) { ... }
setTimeout(fn, FIVE_MINUTES_MS);
```

### 3. 과도한 복잡도

```typescript
// ❌ 중첩된 조건문
if (user) {
  if (user.role === 'admin') {
    if (user.active) {
      if (hasPermission) {
        // ...
      }
    }
  }
}

// ✅ 얼리 리턴
if (!user) return;
if (user.role !== 'admin') return;
if (!user.active) return;
if (!hasPermission) return;
// ...
```

### 4. 부적절한 추상화

```typescript
// ❌ 과도한 추상화
class AbstractFactoryBuilderManager {
  createAbstractFactoryBuilder() { ... }
}

// ❌ 추상화 부족
function handleButtonClick() {
  // 100줄의 비즈니스 로직
}

// ✅ 적절한 추상화
function handleButtonClick() {
  validateInput();
  submitForm();
  showSuccess();
}
```

---

## 💬 피드백 템플릿

### 1. 버그/문제점

```markdown
🐛 **버그**: [설명]

**문제**: [현재 코드가 왜 문제인지]
**영향**: [발생할 수 있는 문제]
**제안**: [수정 방법]

예시:
```code
// 수정 제안
```
```

### 2. 개선 제안

```markdown
💡 **제안**: [설명]

**현재**: [현재 코드 설명]
**제안**: [개선 방법]
**이유**: [왜 더 좋은지]

(선택사항) 예시:
```code
// 개선 예시
```
```

### 3. 질문

```markdown
❓ **질문**: [질문 내용]

[배경/맥락 설명]
[왜 이런 질문을 하는지]
```

### 4. 칭찬

```markdown
✨ **좋아요**: [칭찬 내용]

[구체적으로 무엇이 좋은지]
[팀에 도움이 되는 점]
```

---

## 📋 리뷰 결과

### Approve (승인)

```
✅ 승인합니다.

(선택) 사소한 피드백:
- [피드백 1]
- [피드백 2]
```

### Request Changes (변경 요청)

```
🔄 변경이 필요합니다.

필수 수정:
1. [수정사항 1]
2. [수정사항 2]

(선택) 제안:
- [제안 1]
```

### Comment (코멘트만)

```
💬 전반적으로 좋습니다. 몇 가지 질문/제안이 있습니다.

[피드백 내용]
```

---

## 🚫 리뷰하지 않는 것

1. **스타일 문제** - Linter/Formatter에 위임
2. **취향 차이** - 기능적 차이가 없다면 존중
3. **범위 밖 코드** - 이번 PR에서 변경하지 않은 코드
