---
description: "React TSX íŒŒì¼ ê·œì¹™ - ì»´í¬ë„ŒíŠ¸ ë° íƒ€ì… ëª¨ë²” ì‚¬ë¡€"
globs: ["**/*.tsx"]
alwaysApply: false
---

# React TSX ê·œì¹™

React TypeScript ì»´í¬ë„ŒíŠ¸ ì‘ì„± ì‹œ ì ìš©ë˜ëŠ” ê·œì¹™ì…ë‹ˆë‹¤.

---

## ğŸ“‹ ì»´í¬ë„ŒíŠ¸ ê¸°ë³¸

### 1. í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©

```tsx
// âœ… ì¢‹ìŒ: í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸
interface ButtonProps {
  label: string;
  onClick: () => void;
  disabled?: boolean;
}

function Button({ label, onClick, disabled = false }: ButtonProps) {
  return (
    <button onClick={onClick} disabled={disabled}>
      {label}
    </button>
  );
}

// âŒ ë‚˜ì¨: í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ (ë ˆê±°ì‹œ)
class Button extends React.Component<ButtonProps> { ... }
```

### 2. Props íƒ€ì… ì •ì˜

```tsx
// âœ… ì¢‹ìŒ: Interfaceë¡œ Props ì •ì˜
interface CardProps {
  title: string;
  description?: string;
  children: React.ReactNode;
  onClick?: () => void;
}

// âœ… ì¢‹ìŒ: ê¸°ë³¸ê°’ ì„¤ì •
function Card({ title, description = '', children, onClick }: CardProps) {
  return (
    <div onClick={onClick}>
      <h2>{title}</h2>
      {description && <p>{description}</p>}
      {children}
    </div>
  );
}
```

### 3. ì´ë²¤íŠ¸ íƒ€ì…

```tsx
// ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸
const handleClick = (e: React.MouseEvent<HTMLButtonElement>) => {
  e.preventDefault();
};

// ì…ë ¥ ì´ë²¤íŠ¸
const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
  setValue(e.target.value);
};

// í¼ ì´ë²¤íŠ¸
const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {
  e.preventDefault();
};
```

---

## ğŸ“‹ Hooks ê·œì¹™

### 1. useState íƒ€ì…

```tsx
// íƒ€ì… ì¶”ë¡  ê°€ëŠ¥í•œ ê²½ìš°
const [count, setCount] = useState(0);
const [name, setName] = useState('');

// íƒ€ì… ëª…ì‹œ í•„ìš”í•œ ê²½ìš°
const [user, setUser] = useState<User | null>(null);
const [items, setItems] = useState<Item[]>([]);
```

### 2. useEffect

```tsx
// âœ… ì¢‹ìŒ: ì˜ì¡´ì„± ë°°ì—´ ëª…ì‹œ
useEffect(() => {
  fetchUser(userId);
}, [userId]);

// âœ… ì¢‹ìŒ: í´ë¦°ì—… í•¨ìˆ˜
useEffect(() => {
  const subscription = subscribe(channel);
  return () => subscription.unsubscribe();
}, [channel]);

// âŒ ë‚˜ì¨: ë¹ˆ ì˜ì¡´ì„± ë°°ì—´ ë‚¨ìš©
useEffect(() => {
  fetchUser(userId); // userId ë³€ê²½ ì‹œ ì¬ì‹¤í–‰ ì•ˆ ë¨
}, []);
```

### 3. ì»¤ìŠ¤í…€ Hooks

```tsx
// âœ… ì¢‹ìŒ: ì œë„¤ë¦­ ì»¤ìŠ¤í…€ í›…
function useFetch<T>(url: string): {
  data: T | null;
  loading: boolean;
  error: Error | null;
} {
  const [data, setData] = useState<T | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    fetch(url)
      .then((res) => res.json())
      .then(setData)
      .catch(setError)
      .finally(() => setLoading(false));
  }, [url]);

  return { data, loading, error };
}
```

---

## ğŸ“‹ ì„±ëŠ¥ ìµœì í™”

### 1. ë©”ëª¨ì´ì œì´ì…˜

```tsx
// useMemo: ê³„ì‚° ê²°ê³¼ ìºì‹±
const sortedItems = useMemo(
  () => items.sort((a, b) => a.name.localeCompare(b.name)),
  [items]
);

// useCallback: í•¨ìˆ˜ ì°¸ì¡° ìœ ì§€
const handleClick = useCallback(() => {
  doSomething(id);
}, [id]);

// React.memo: ì»´í¬ë„ŒíŠ¸ ë©”ëª¨ì´ì œì´ì…˜
const MemoizedCard = React.memo(Card);
```

### 2. ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ë°©ì§€

```tsx
// âœ… ì¢‹ìŒ: ê°ì²´/ë°°ì—´ ì°¸ì¡° ìœ ì§€
const options = useMemo(() => ({ theme: 'dark' }), []);

// âŒ ë‚˜ì¨: ë Œë”ë§ë§ˆë‹¤ ìƒˆ ê°ì²´ ìƒì„±
<Component options={{ theme: 'dark' }} />
```

---

## ğŸ“‹ íŒ¨í„´

### 1. ì¡°ê±´ë¶€ ë Œë”ë§

```tsx
// ê°„ë‹¨í•œ ì¡°ê±´
{isLoading && <Spinner />}
{error && <ErrorMessage error={error} />}
{user ? <UserProfile user={user} /> : <LoginPrompt />}

// ë³µì¡í•œ ì¡°ê±´
function renderContent() {
  if (loading) return <Spinner />;
  if (error) return <ErrorMessage error={error} />;
  if (!data) return <EmptyState />;
  return <DataList data={data} />;
}
```

### 2. ë¦¬ìŠ¤íŠ¸ ë Œë”ë§

```tsx
// âœ… ì¢‹ìŒ: ê³ ìœ  key ì‚¬ìš©
{items.map((item) => (
  <ListItem key={item.id} item={item} />
))}

// âŒ ë‚˜ì¨: indexë¥¼ keyë¡œ ì‚¬ìš©
{items.map((item, index) => (
  <ListItem key={index} item={item} />
))}
```

### 3. Children íƒ€ì…

```tsx
interface LayoutProps {
  children: React.ReactNode;
}

interface ButtonProps {
  children: string; // í…ìŠ¤íŠ¸ë§Œ í—ˆìš©
}

interface ListProps {
  children: React.ReactElement<ItemProps>[]; // íŠ¹ì • ì»´í¬ë„ŒíŠ¸ë§Œ
}
```

---

## ğŸš« ê¸ˆì§€ ì‚¬í•­

1. **í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ ì‚¬ìš© ê¸ˆì§€** (ë ˆê±°ì‹œ ì½”ë“œ ì œì™¸)
2. **any íƒ€ì… Props ê¸ˆì§€**
3. **indexë¥¼ keyë¡œ ì‚¬ìš© ê¸ˆì§€** (ë¦¬ìŠ¤íŠ¸ ë³€ê²½ ì‹œ ë¬¸ì œ)
4. **useEffect ë‚´ async í•¨ìˆ˜ ì§ì ‘ ì‚¬ìš© ê¸ˆì§€**

```tsx
// âŒ ë‚˜ì¨
useEffect(async () => {
  await fetchData();
}, []);

// âœ… ì¢‹ìŒ
useEffect(() => {
  const fetch = async () => {
    await fetchData();
  };
  fetch();
}, []);
```
