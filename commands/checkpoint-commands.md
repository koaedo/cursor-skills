#!/bin/bash
# @command: create_checkpoint
# @purpose: μ²΄ν¬ν¬μΈνΈ μƒμ„± - Git μ»¤λ°‹ λ° MD κΈ°λ΅
# @usage: μ‘μ—… μ™„λ£ ν›„ μƒνƒ μ €μ¥, λ³µκµ¬ μ§€μ  μƒμ„±
# @keywords: μ²΄ν¬ν¬μΈνΈ,checkpoint,μ €μ¥,κΈ°λ΅,μ¤λƒ…μƒ·,μ»¤λ°‹,commit,save
# @triggers: "μ²΄ν¬ν¬μΈνΈ", "μ €μ¥ν•΄μ¤", "κΈ°λ΅ν•΄μ¤", "μ»¤λ°‹ν•΄μ¤", "checkpoint"
# @background: false
# @dependencies: git (μ„ νƒ)
# @output: !CHECKPOINT/YYYYMMDD_HHMMSS_CP_[μ”μ•½λ…].md

# ============================================================
# μ²΄ν¬ν¬μΈνΈ μƒμ„± μ»¤λ§¨λ“
# ============================================================

## μ‹¤ν–‰ ν”„λ΅μ„Έμ¤

### 1. ν™κ²½ ν™•μΈ
```bash
# Git ν”„λ΅μ νΈ ν™•μΈ
if [ -d ".git" ]; then
    IS_GIT=true
else
    IS_GIT=false
fi
```

### 2. λ³€κ²½μ‚¬ν•­ μμ§‘
```bash
# Git ν”„λ΅μ νΈ
git status --porcelain
git diff --stat

# Non-Git ν”„λ΅μ νΈ
# AIκ°€ μ„Έμ… λ‚΄ λ³€κ²½μ‚¬ν•­ μ¶”μ 
```

### 3. μ»¤λ°‹ λ©”μ‹μ§€ μƒμ„± (Git)
```
ν•μ‹: [νƒ€μ…] μ‘μ—… μ”μ•½

νƒ€μ…:
- feat: μƒ κΈ°λ¥
- fix: λ²„κ·Έ μμ •
- refactor: λ¦¬ν©ν† λ§
- style: μ¤νƒ€μΌ/ν¬λ§·
- docs: λ¬Έμ„
- config: μ„¤μ •
- test: ν…μ¤νΈ
- chore: κΈ°νƒ€
```

### 4. Git μ»¤λ°‹ μ‹¤ν–‰
```bash
git add .
git commit -m "[νƒ€μ…] μ‘μ—… μ”μ•½

μƒμ„Έ μ„¤λ…

μ²΄ν¬ν¬μΈνΈ: CP-YYYYMMDD-HHMMSS"
```

### 5. MD κΈ°λ΅ μƒμ„±
```bash
# νμΌ κ²½λ΅
!CHECKPOINT/YYYYMMDD_HHMMSS_CP_[μ”μ•½λ…].md

# λ‚΄μ©: checkpoint.mdc κ·μΉ™ μ°Έμ΅°
```

### 6. μΈλ±μ¤ μ—…λ°μ΄νΈ
```bash
# !CHECKPOINT/_INDEX.md μ—…λ°μ΄νΈ
# μµκ·Ό μ²΄ν¬ν¬μΈνΈ λ©λ΅μ— μ¶”κ°€
# νƒ€μ…λ³„ λ¶„λ¥μ— μ¶”κ°€
```

---

#!/bin/bash
# @command: list_checkpoints
# @purpose: μ²΄ν¬ν¬μΈνΈ λ©λ΅ μ΅°ν
# @usage: μ €μ¥λ μ²΄ν¬ν¬μΈνΈ ν™•μΈ
# @keywords: μ²΄ν¬ν¬μΈνΈλ©λ΅,μ²΄ν¬ν¬μΈνΈμ΅°ν,checkpoint list,μ²΄ν¬ν¬μΈνΈλ³΄μ—¬μ¤
# @triggers: "μ²΄ν¬ν¬μΈνΈ λ©λ΅", "μ²΄ν¬ν¬μΈνΈ λ³΄μ—¬μ¤", "μ €μ¥λ κΈ°λ΅"
# @background: false
# @dependencies: none
# @output: μ²΄ν¬ν¬μΈνΈ λ©λ΅ μ¶λ ¥

## μ‹¤ν–‰ ν”„λ΅μ„Έμ¤
```bash
# _INDEX.md μ½κΈ°
cat !CHECKPOINT/_INDEX.md

# λλ” ν΄λ” λ‚΄ νμΌ λ©λ΅
ls -la !CHECKPOINT/
```

---

#!/bin/bash
# @command: search_checkpoint
# @purpose: μ²΄ν¬ν¬μΈνΈ κ²€μƒ‰
# @usage: νΉμ • μ²΄ν¬ν¬μΈνΈ μ°ΎκΈ°
# @keywords: μ²΄ν¬ν¬μΈνΈκ²€μƒ‰,μ²΄ν¬ν¬μΈνΈμ°ΎκΈ°,checkpoint search,μ°Ύμ•„μ¤
# @triggers: "μ²΄ν¬ν¬μΈνΈ μ°Ύμ•„μ¤", "μ–Έμ  μ‘μ—…", "μ–΄λ–¤ μ²΄ν¬ν¬μΈνΈ"
# @background: false
# @dependencies: none
# @output: κ²€μƒ‰ κ²°κ³Ό

## κ²€μƒ‰ κΈ°μ¤€
- λ‚ μ§: "μ–΄μ ", "3μΌ μ „", "μ§€λ‚μ£Ό"
- νƒ€μ…: "κΈ°λ¥", "λ²„κ·Έ", "λ¦¬ν©ν† λ§"
- ν‚¤μ›λ“: "λ΅κ·ΈμΈ", "API", "μ»΄ν¬λ„νΈ"

## μ‹¤ν–‰ ν”„λ΅μ„Έμ¤
```bash
# _INDEX.mdμ—μ„ κ²€μƒ‰
grep -i "κ²€μƒ‰μ–΄" !CHECKPOINT/_INDEX.md

# λλ” μ „μ²΄ νμΌ κ²€μƒ‰
grep -r "κ²€μƒ‰μ–΄" !CHECKPOINT/
```

---

#!/bin/bash
# @command: restore_checkpoint
# @purpose: μ²΄ν¬ν¬μΈνΈλ΅ λ³µκµ¬
# @usage: μ΄μ „ μƒνƒλ΅ λλλ¦¬κΈ°
# @keywords: λ³µκµ¬,λλλ¦¬κΈ°,restore,rollback,μ²΄ν¬ν¬μΈνΈλ³µκµ¬
# @triggers: "λλλ ¤μ¤", "λ³µκµ¬ν•΄μ¤", "μ΄μ „ μƒνƒλ΅"
# @background: false
# @dependencies: git (μ„ νƒ)
# @output: λ³µκµ¬ μ™„λ£ λ©”μ‹μ§€

## Git ν”„λ΅μ νΈ λ³µκµ¬
```bash
# νΉμ • νμΌλ§ λ³µκµ¬
git checkout [μ»¤λ°‹ν•΄μ‹] -- [νμΌκ²½λ΅]

# μ „μ²΄ λ³µκµ¬ (μ£Όμ!)
git reset --hard [μ»¤λ°‹ν•΄μ‹]

# μ•μ „ν• λ³µκµ¬ (μƒ λΈλμΉ)
git checkout -b restore-branch [μ»¤λ°‹ν•΄μ‹]
```

## Non-Git ν”„λ΅μ νΈ λ³µκµ¬
```
1. μ²΄ν¬ν¬μΈνΈ MD νμΌ ν™•μΈ
2. λ³€κ²½μ‚¬ν•­ μ—­μμΌλ΅ μλ™ μ μ©
3. AIκ°€ λ³€κ²½ λ‚΄μ© κΈ°λ°μΌλ΅ λ³µκµ¬ μ§€μ›
```

---

#!/bin/bash
# @command: suggest_checkpoint
# @purpose: μ²΄ν¬ν¬μΈνΈ μλ™ μ μ•
# @usage: νΉμ • μ‘μ—… μ™„λ£ ν›„ μ μ•
# @keywords: μ²΄ν¬ν¬μΈνΈμ μ•,μλ™μ μ•,checkpoint suggest
# @triggers: [μλ™] κΈ°λ¥ μ™„μ„±, λ²„κ·Έ μμ •, λ¦¬ν©ν† λ§, μ„ν— μ‘μ—… μ „
# @background: true
# @dependencies: none
# @output: μ μ• λ©”μ‹μ§€

## μ μ• μ΅°κ±΄

### π”΄ λ†’μ€ μ°μ„ μμ„ (μ¦‰μ‹ μ μ•)
- μƒ κΈ°λ¥ μ™„μ„±
- λ²„κ·Έ μμ • μ™„λ£
- λ€κ·λ¨ λ¦¬ν©ν† λ§
- μ„ν—ν• μ‘μ—… μ „

### π΅ μ¤‘κ°„ μ°μ„ μμ„ (μ™„λ£ ν›„ μ μ•)
- μ„¤μ • νμΌ λ³€κ²½
- μμ΅΄μ„± λ³€κ²½
- 3κ° μ΄μƒ νμΌ λ™μ‹ μμ •

### πΆ λ‚®μ€ μ°μ„ μμ„ (μ‹κ°„ κΈ°λ°)
- 30λ¶„ μ΄μƒ μ—°μ† μ‘μ—…

## μ μ• ν•μ‹
```
π’Ύ μ²΄ν¬ν¬μΈνΈ μ μ•

[μ‘μ—…λ…]μ΄ μ™„λ£λμ—μµλ‹λ‹¤.
λ³€κ²½λ νμΌ: [νμΌ λ©λ΅]

μ²΄ν¬ν¬μΈνΈλ¥Ό λ§λ“¤κΉμ”?
μ»¤λ°‹ λ©”μ‹μ§€ μ μ•: "[νƒ€μ…] μ‘μ—… μ”μ•½"
```

---

#!/bin/bash
# @command: compare_checkpoints
# @purpose: μ²΄ν¬ν¬μΈνΈ κ°„ λΉ„κµ
# @usage: λ‘ μ²΄ν¬ν¬μΈνΈ μ‚¬μ΄ λ³€κ²½μ‚¬ν•­ ν™•μΈ
# @keywords: μ²΄ν¬ν¬μΈνΈλΉ„κµ,λΉ„κµ,compare,diff
# @triggers: "μ²΄ν¬ν¬μΈνΈ λΉ„κµ", "λ­κ°€ λ°”λ€μ—μ–΄", "μ°¨μ΄μ "
# @background: false
# @dependencies: git (μ„ νƒ)
# @output: λΉ„κµ κ²°κ³Ό

## Git ν”„λ΅μ νΈ
```bash
git diff [μ»¤λ°‹1] [μ»¤λ°‹2]
git log --oneline [μ»¤λ°‹1]..[μ»¤λ°‹2]
```

## Non-Git ν”„λ΅μ νΈ
```
1. λ‘ μ²΄ν¬ν¬μΈνΈ MD νμΌ λΉ„κµ
2. λ³€κ²½ νμΌ λ©λ΅ λ€μ΅°
3. μ£Όμ” λ³€κ²½μ‚¬ν•­ μ”μ•½
```
